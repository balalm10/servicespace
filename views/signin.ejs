<!DOCTYPE html>
<html lang="en">

<head>
	<!-- Required meta tags -->
	<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />

	<!-- Bootstrap CSS -->
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css"
		integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous" />

	<!-- For Material Design Bootstrap -->
	<!-- 	<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.8.2/css/all.css">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700&display=swap">
	<link href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.5.0/css/bootstrap.min.css" rel="stylesheet">
	<link href="https://cdnjs.cloudflare.com/ajax/libs/mdbootstrap/4.19.1/css/mdb.min.css" rel="stylesheet"> -->

	<title>ServiceSpace</title>
</head>
<style type="text/css">
	.jumbotron {
		border-top: 7px solid #272e38;
		border-left: 1px solid #272e38;
		border-bottom: 1px solid #272e38;
		border-right: 1px solid #272e38;
		border-radius: 0 0 10px 10px !important;
	}

	.nav-tabs>.nav-item>.nav-link {
		border: 1px solid #272e38;
		padding: 18px 25px;
		color: #fff;
	}

	.nav-tabs>.nav-item>.nav-link:hover,
	.nav-tabs>.nav-item>.nav-link:focus,
	.nav-tabs>.nav-item>.nav-link.active {
		background: #272e38 !important;
		font-weight: bold;
		transition: background 0.2s linear;
	}

	/*	.btn-group > .btn
	{
	    background:#292b2c !important;
	}


	.btn-group > .btn.active
	{
	    background:#272e38 !important;
	    font-weight: bold;
	    transition: background 0.20s linear;
	}
	*/

</style>

<body>

	<%- include('./partials/navbar.ejs', {isLoggedIn: iLog}); %>
	<%- include('./partials/messages.ejs'); %>

	<br /><br /><br /><br /><br />

	<div class="container col-md-8 col-lg-6 col-xl-4 mx-auto">
		<ul class="nav nav-tabs nav-justified">
			<li class="nav-item">
				<a class="nav-link active bg-dark" data-toggle="tab" href="#login_tab"
					style="border-radius: 10px 0 0 0">Log in</a>
			</li>
			<li class="nav-item">
				<a class="nav-link bg-dark" data-toggle="tab" href="#signup_tab" style="border-radius: 0 10px 0 0">Sign
					up</a>
			</li>
		</ul>
		<div class="jumbotron">
			<!-- <div class="row justify-content-center"> -->

			<!-- </div> -->
			<!-- <div class="container"> -->
			<!-- <div class="row h-100 justify-content-center"> -->
			<div class="tab-content">
				<div class="tab-pane active" id="login_tab">
					<form action="/login" method="post">
						<div class="form-group">
							<label for="login_email">Email address</label>
							<input type="email" class="form-control" id="login_email" name="username"
								placeholder="Email address" />
							<!-- small id="emailHelp" class="form-text text-muted">We'll never share your email with anyone else.</small -->
						</div>
						<div class="form-group">
							<label for="login_password">Password</label>
							<input type="password" class="form-control" id="login_password" name="password"
								placeholder="Password" />
						</div>
						<br />
						<center>
							<button type="submit" class="btn btn-outline-primary">
								Log in
							</button>
						</center>
					</form>
				</div>
				<div class="tab-pane fade" id="signup_tab">
					<form action="/signup" id="signup_form" method="post"
						oninput='confirm_password.setCustomValidity(confirm_password.value != password.value ? "Passwords do not match." : "")'>
						<div class="form-group">
							<label for="signup_email" class="sr-only">Email address</label>
							<input type="email" class="form-control" id="signup_email" name="username"
								placeholder="Email address" required />
						</div>
						<div class="form-group">
							<label for="signup_password" class="sr-only">Password</label>
							<input type="password" class="form-control" id="signup_password" name="password"
								placeholder="Password" required />
						</div>
						<div class="form-group">
							<label for="signup_confirm_password" class="sr-only">Confirm Password</label>
							<input type="password" class="form-control" id="signup_confirm_password"
								name="confirm_password" placeholder="Confirm Password" required />
						</div>
						<div class="form-row form-group">
							<div class="col-sm-6 form-group">
								<input type="text" class="form-control" name="name" placeholder="Full name" required />
							</div>
							<div class="col-sm-6 form-group">
								<div class="input-group">
									<div class="input-group-prepend">
										<span class="input-group-text">DOB</span>
									</div>
									<input type="date" class="form-control" id="dob" name="dob" required />
								</div>
							</div>
						</div>

						<div class="form-group">
							<center>
								<span class="form-text text-muted mb-2">
									What will be your role on ServiceSpace?
								</span>
							</center>

							<div class="btn-group d-flex btn-group-toggle" data-toggle="buttons" id="sp_checkbox">
								<label class="btn btn-secondary w-100 active">
									<input type="radio" name="utype" id="customer" value="Customer" checked />Customer
								</label>
								<label class="btn btn-secondary w-100">
									<input type="radio" name="utype" id="service_provider"
										value="Service Provider" />Service Provider
								</label>
							</div>
						</div>

						<div class="form-group" id="sp_form" style="display: none">
							<center>
								<small class="form-text text-muted">The below section is only for Service
									Providers.</small>
							</center>
							<hr />
							<div class="form-group form-row">
								<div class="col">
									<input type="text" class="form-control" name="service"
										placeholder="Service Offered" />
								</div>
								<div class="col">
									<div class="input-group">
										<input type="number" class="form-control" name="fee" placeholder="Fee" />
										<div class="input-group-append">
											<button class="btn btn-outline-secondary dropdown-toggle"
												id="rate-dropdown-button" type="button" data-toggle="dropdown">
												/ hour
											</button>
											<div class="dropdown-menu" id="rate-dropdown-menu">
												<a class="dropdown-item" href="#">/ hour</a>
												<a class="dropdown-item" href="#">/ day</a>
												<a class="dropdown-item" href="#">/ job</a>
											</div>
										</div>
									</div>
								</div>
							</div>
							<div class="form-group form-row">
								<div class="col">
									<input type="email" class="form-control" name="email" placeholder="Email" />
								</div>
								<div class="col">
									<input class="form-control" type="tel" id="phone" name="phone" pattern="[0-9]{10}"
										title="Phone number should be exactly 10 digits" placeholder="Phone" />
								</div>
							</div>
							<div class="form-group form-check">
								<input type="checkbox" class="form-check-input" id="t_and_c" />
								<label class="form-check-label" for="t_and_c"><b>I am a Service Provider</b> and
									I
									agree
									to the
									<a href="#">Terms and Conditions</a> of offering a service
									on ServiceSpace.</label>
							</div>
						</div>

						<br />
						<center>
							<button type="submit" class="btn btn-outline-primary" id="create_acc_btn">
								Create Account
							</button>
						</center>
					</form>
				</div>
			</div>
		</div>
	</div>

	<!-- jQuery, Popper.js, and Bootstrap JS -->
	<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"
		integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous">
	</script>
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.bundle.min.js"
		integrity="sha384-ho+j7jyWK8fNQe+A12Hb8AhRq26LrZ/JpcUGGOn+Y7RsweNrtN/tE3MoK7ZeZDyx" crossorigin="anonymous">
	</script>
	<!-- For Material Design Bootstrap -->
	<!-- <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
	<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.4/umd/popper.min.js"></script>
	<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.5.0/js/bootstrap.min.js"></script>
	<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mdbootstrap/4.19.1/js/mdb.min.js"></script> -->

	<script>
		function validate() {}

		// document.getElementById("phone").oninvalid = (event) => { event.target.setCustomValidity('Phone number should be exactly 10 digits') };

		$("#rate-dropdown-menu a").click(function () {
			let val = $(this).text();
			$("#rate-dropdown-button").html(val);
		});

		$("#sp_checkbox label input").click(function () {
			var sp_form = document.getElementById("sp_form");
			const utype = $('input[type="radio"][name="utype"]:checked').val();
			if (utype == "Service Provider") {
				sp_form.style.display = "block";
				$("#sp_form input").prop("required", true);
				if (document.getElementById("t_and_c").checked) {
					$("#create_acc_btn").prop("disabled", false);
				} else {
					$("#create_acc_btn").prop("disabled", true);
				}
			} else {
				sp_form.style.display = "none";
				$("#sp_form input").prop("required", false);
				$("#create_acc_btn").prop("disabled", false);
			}
		});

		$("#t_and_c").click(function () {
			if (document.getElementById("t_and_c").checked) {
				$("#create_acc_btn").prop("disabled", false);
			} else {
				$("#create_acc_btn").prop("disabled", true);
			}
		});

		$("#signp_form").submit(function (eventObj) {
			let fee_t = $("#rate-dropdown-button").html()

			$("<input />").attr("type", "hidden")
				.attr("name", "fee_t")
				.attr("value",
					let)
				.appendTo("#signp_form");
			return true;
		});

	</script>
</body>

</html>
